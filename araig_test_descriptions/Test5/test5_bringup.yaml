# This file must be converted to nadias model to generate the launch file
Bringup:
  args:
    - name: arg_port
      default: /dev/ttyACM0
  Rosparam:
    file: "test5_params.yaml"
  Launch:
    - pkg: turtlebot3_bringup
      launch: tb3_robot.launch
    - pkg: intel_realsense
      launch: camera.launch
  Node:
    - pkg: marvelmind_nav
      node: marvelmind_driver
      args: arg_port
    - pkg: araig_interpreters # Convert sensor data to location of robot & obstacle. The output topics are currently dynamically generated by the node, maybe this should be handled in interfaces.yaml instead? Subject to change.
      node: interpret_marvel_location
      remap:
        - from: "/input1"
          to: Data.sensors.ips.location
        - from: "/output1"
          to: Data.interpreter.location.robot
        - from: "/output2"
          to: Data.interpreter.location.obstacle
    - pkg: araig_interpreters
      node: interpret_goal_commands
      remap:
        - from: "/input1"
          to: Signal.runner.start_robot
        - from: "/output1"
          to: Data.interpreter.goal # subject to change
    - pkg: rosgraph_monitor
      node: monitor
    - pkg: araig_user_interface
      node: rqt_gui # Start ui from aulon's package and make it publish the button press signals to these Signal topics
      remap:
        - from: "/output1"
          to: Signal.ui.start_test
        - from: "/output2"
          to: Signal.ui.abort_test # subject to change
        - from: "/input1"
          to: Signal.runner.test_succeeded
        - from: "/input2"
          to: Signal.runner.test_failed
        - from: "/input3"
          to: Signal.calc.robot_in_collission
    - pkg: araig_test_runners # A.K.A Central Command Node.
      node: test_5_runner.py
      remap:
        - from: "/input1"
          to: Signal.ui.start_test
        - from: "/input2"
          to: Signal.ui.abort_test
        - from: "/input3"
          to: Signal.calc.robot_in_collission
        - from: "/output1"
          to: Signal.runner.test_succeeded
        - from: "/output2"
          to: Signal.runner.test_failed